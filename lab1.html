<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<head>

<LINK REL=StyleSheet HREF="style.css" TYPE="text/css">
</head>

<div id="container">
	<div id="header">
		<h1>
iPhone Labs
		</h1>
	</div>
	<div id="navigation">
		<ul>
			<li><a href="index.html">Home</a></li>
			<li><a href="xcode.html">Setup</a></li>
			<li><a href="lab1.html">Lab1</a></li>
			<li><a href="lab2.html">Lab2</a></li>
			<li><a href="lab3.html">Lab3</a></li>
			<li><a href="lab4.html">Lab4</a></li>
			<li><a href="lab5.html">Lab5</a></li>
			<li><a href="lab6.html">Lab6</a></li>
		</ul>
	</div>
	<div id="content">
		<h2>
			Lab 1 - Basic Encryption
		</h2>
		<p>
		The first lab, we'll use a proxy server such as Charles to proxy the ExploitMe mobile request.  This guide assumes that you have configured your Xcode environment with ExploitMe Mobile for iPhone.  If not, please ensure you read the <a href="setup.html">guide on set up </a>first.
		</p><p>
		Let's now launch both the LabServer and ExploitMe Mobile in the iPhone simulator.  You should see a window like this.
		</p><p>		
		In the first lab, we'll be inspecting iPhone network traffic to see how the app is sending bank traffic to LabServer.
		</p><p>		
		Launch your favourite proxy and ensure that MacOSX is set up to use the proxy server.  The iPhone simulator obey's the OSX settings for a proxy.  You can configure it in Preferences > Network & Sharing > Proxies.
		</p><p>		
		Ensure that your proxy is correctly accepting network traffic and then run the iPhone ExploitMe Mobile lab in the simulator.  Once the simulator is running, login using the standard login and password jdoe/password for the user, or if you've already logged in before, enter your local password you configured on first run.
		</p><p>		
		Below you can see our network traffic from the iPhone EMM app to our lab server.
		</p><p>		
		It is clear that the application is using clear-text at this point and that HTTP traffic can be trapped and modified.  This is often the first step to attacking any mobile application and if you've made it this far, you now are able to fully act as a man in the middle against any iPhone application.
		</p><p>		
		In the following screenshot, we can see that EMM sends user credentials upon first entry to the application in clear-text.  The username and password is clearly shown.	
		</p><p>		
		<img style="border-width: 0px;" src="img/1_proxy.jpeg" width="600" height="421" />
		</p><p>		
		In most cases on the iPhone device itself, you'll want to browse the local file system on a Jailbroken device to access the application files.  This will usually be stored within the Base.app folder on the device.
		</p><p>		
		<img style="border-width: 0px;" src="img/1_simulator_dir.jpeg" width="600" height="277" />
		</p><p>		
		Within the simulator, it is a bit easier to access these files without jail breaking the device since the simulator stores any local files in the following directory where <GUID> is unique to everybody.  In the GUID directory, you should find the Base.app folder which is where the contents of the app files will be stored.
		</p><p>		
		<img style="border-width: 0px;" src="img/1_simulator_contents.jpeg" width="500" height="296" />
		</p><p>		
		~/Library/Application Support/iPhone Simulator/<GUID>/Applications/Base.app
		</p><p>		
		If you're in OSX Finder, you'll have to right click > Show Package contents to see within the Base.app folder, or just use Terminal to access.  You can see above all the iPhone files used by the installed ExploitMe Mobile application.  
		</p><p>		
		You can inspect and modify these files as you would normally on an iPhone device that is jailbroken.
		</p>
	</body>
</html>